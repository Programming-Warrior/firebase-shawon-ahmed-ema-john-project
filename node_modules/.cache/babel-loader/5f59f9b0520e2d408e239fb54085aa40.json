{"ast":null,"code":"var _jsxFileName = \"C:\\\\webDevelopment\\\\myProjects\\\\firebase-Ema-John\\\\src\\\\components\\\\Shop\\\\Shop.js\";\nimport React, { useState } from 'react';\nimport fakeData from '../../fakeData';\nimport './Shop.css';\nimport Product from '../Product/Product';\nimport Cart from '../Cart/Cart';\nimport { addToDatabaseCart, getDatabaseCart } from '../../utilities/databaseManager';\nimport { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Shop = () => {\n  const first10 = fakeData.slice(0, 1000);\n  const [products, setProducts] = useState(first10);\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    const savedCart = getDatabaseCart();\n    const productKeys = Object.keys(savedCart);\n    const previousCart = productKeys.map(existingKey => {\n      const product = fakeData.find(pd => pd.key === existingKey);\n      product.quantity = savedCart[existingKey];\n      return product;\n    });\n    setCart(previousCart);\n  }, []);\n\n  const hendleAddProduct = product => {\n    const toBeAddedKey = product.key;\n    const sameProduct = cart.find(pd => pd.key === toBeAddedKey);\n    let count = 1;\n    let newCart;\n\n    if (sameProduct) {\n      count = sameProduct.quantity + 1;\n      sameProduct.quantity = count;\n      const others = cart.filter(pd => pd.key !== toBeAddedKey);\n      newCart = [...others, sameProduct];\n    } else {\n      product.quantity = 1;\n      newCart = [...cart, product];\n    }\n\n    setCart(newCart);\n    addToDatabaseCart(product.key, count);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, products.map(pd => /*#__PURE__*/React.createElement(Product, {\n    hendleAddProduct: hendleAddProduct,\n    product: pd,\n    ShowAddToBtn: true,\n    key: pd.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/review',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 42\n    }\n  }, \"Order Review\")))));\n};\n\nexport default Shop;","map":{"version":3,"sources":["C:/webDevelopment/myProjects/firebase-Ema-John/src/components/Shop/Shop.js"],"names":["React","useState","fakeData","Product","Cart","addToDatabaseCart","getDatabaseCart","useEffect","Link","Shop","first10","slice","products","setProducts","cart","setCart","savedCart","productKeys","Object","keys","previousCart","map","existingKey","product","find","pd","key","quantity","hendleAddProduct","toBeAddedKey","sameProduct","count","newCart","others","filter"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport fakeData from '../../fakeData';\nimport './Shop.css';\nimport Product from '../Product/Product';\nimport Cart from '../Cart/Cart';\nimport { addToDatabaseCart, getDatabaseCart } from '../../utilities/databaseManager';\nimport { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Shop = () => {\n    const first10 = fakeData.slice(0, 1000)\n    const [products, setProducts] = useState(first10);\n\n    const [cart, setCart] = useState([])\n    useEffect(() => {\n        const savedCart = getDatabaseCart();\n        const productKeys =Object.keys(savedCart);\n        const previousCart = productKeys.map(existingKey => {\n            const product = fakeData.find(pd => pd.key === existingKey);\n            product.quantity = savedCart[existingKey];\n            return product;\n        })\n        setCart(previousCart);\n    },[])\n\n    const hendleAddProduct = (product) => {\n        const toBeAddedKey = product.key;\n        const sameProduct = cart.find(pd => pd.key === toBeAddedKey);\n        let count = 1;\n        let newCart\n        if(sameProduct){\n            count = sameProduct.quantity + 1;\n            sameProduct.quantity = count;\n            const others = cart.filter(pd => pd.key !== toBeAddedKey);\n            newCart = [...others, sameProduct];\n        }\n        else{\n            product.quantity = 1;\n            newCart = [...cart, product];\n        }\n        setCart(newCart);\n        \n        addToDatabaseCart(product.key, count);\n    }\n    return (\n        <div className='shop-container'>\n            <div className=\"product-container\">\n\n                {\n                    products.map(pd =>\n                        <Product\n                            hendleAddProduct={hendleAddProduct}\n                            product={pd}\n                            ShowAddToBtn={true}\n                            key={pd.key}>\n\n                        </Product>)\n                }\n\n            </div>\n            <div className=\"cart-container\">\n                <Cart cart={cart}>\n                    <Link to={'/review'}><button>Order Review</button></Link>\n                </Cart>\n            </div>\n        </div>\n    );\n};\n\nexport default Shop;"]},"metadata":{},"sourceType":"module"}