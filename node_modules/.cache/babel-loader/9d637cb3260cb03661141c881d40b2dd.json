{"ast":null,"code":"var _jsxFileName = \"C:\\\\webDevelopment\\\\myProjects\\\\firebase-Ema-John-master\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { useContext } from 'react';\nimport { useState } from 'react';\nimport { UserContext } from '../../App';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { handleFbSignIn, handleGoogleSignIn, handleSignOut, initializeLoginFramework } from './LoginManager';\n\nfunction Login() {\n  const [newUser, setNewUser] = useState(false);\n  const [user, setUser] = useState({\n    isSignedIn: false,\n    name: '',\n    email: '',\n    photo: '',\n    password: '',\n    error: '',\n    success: false\n  });\n  initializeLoginFramework();\n\n  const googleSignIn = () => {\n    handleGoogleSignIn().then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n    });\n  };\n\n  const signOut = () => {\n    handleSignOut().then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n    });\n  };\n\n  const fbSignIn = () => {\n    handleFbSignIn().then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n    });\n  };\n\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n\n  const handleSubmit = e => {\n    if (newUser && user.email && user.password) {}\n\n    if (!newUser && user.email && user.password) {}\n\n    e.preventDefault();\n  };\n\n  const handleBlur = e => {\n    let isFeildValid = true;\n\n    if (e.target.name === 'email') {\n      isFeildValid = /^\\S+@\\S+$/.test(e.target.value);\n    }\n\n    if (e.target.name === 'password') {\n      const isPasswordValid = e.target.value.length > 6;\n      const passwordHasNumber = /\\d{1}/.test(e.target.value);\n      isFeildValid = isPasswordValid && passwordHasNumber;\n    }\n\n    if (isFeildValid) {\n      const newUserInfo = { ...user\n      };\n      newUserInfo[e.target.name] = e.target.value;\n      setUser(newUserInfo);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '150px',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }\n  }, user.isSignedIn ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: signOut,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Sign out\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: googleSignIn,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 6\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fbSignIn,\n    className: \"btn btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, \"Log in Using Facebook\"), user.isSignedIn && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 26\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 32\n    }\n  }, \"Welcome \", /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      borderRadius: '50%',\n      width: '100px',\n      height: '100px'\n    },\n    src: user.photo,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 44\n    }\n  }), \" \", user.name, \" To this Finance Project.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 8\n    }\n  }, \"Your Email:\", user.email)), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 6\n    }\n  }, \"Our Own Authentication \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: () => setNewUser(!newUser),\n    name: \"newUser\",\n    id: \"newUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"newUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 6\n    }\n  }, \"New User Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, newUser && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    onBlur: handleBlur,\n    placeholder: \"Your Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 94\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    onBlur: handleBlur,\n    placeholder: \"Your Email Address\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 100\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    onBlur: handleBlur,\n    placeholder: \"password\",\n    name: \"password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 98\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: newUser ? 'Sign Up' : 'Sign In',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      background: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, user.error), user.success && /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 24\n    }\n  }, \"User \", newUser ? 'Created' : 'logged in', \" Successfully done by you. Thank you very much...\"));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/webDevelopment/myProjects/firebase-Ema-John-master/src/components/Login/Login.js"],"names":["React","useContext","useState","UserContext","useHistory","useLocation","handleFbSignIn","handleGoogleSignIn","handleSignOut","initializeLoginFramework","Login","newUser","setNewUser","user","setUser","isSignedIn","name","email","photo","password","error","success","googleSignIn","then","res","setLoggedInUser","signOut","fbSignIn","loggedInUser","history","location","from","state","pathname","handleSubmit","e","preventDefault","handleBlur","isFeildValid","target","test","value","isPasswordValid","length","passwordHasNumber","newUserInfo","marginTop","textAlign","borderRadius","width","height","color","background"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\n\nimport { useState } from 'react';\nimport { UserContext } from '../../App';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { handleFbSignIn, handleGoogleSignIn, handleSignOut, initializeLoginFramework } from './LoginManager';\n\n\n\nfunction Login() {\n   \n\n    const [newUser, setNewUser] =useState(false);\n    const [user,setUser] = useState({\n    isSignedIn :false,\n    name : '',\n    email:'',\n    photo:'',\n    password:'',\n    error:'',\n    success:false,\n  \n  });\n\n  initializeLoginFramework();\n\n  const googleSignIn = () => {\n    handleGoogleSignIn()\n    .then(res=>{\n      setUser(res);\n      setLoggedInUser(res);\n    })\n  }\n\n  const signOut = () => {\n    handleSignOut()\n    .then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n    })\n  }\n\n  const fbSignIn = () => {\n    handleFbSignIn()\n    .then(res=>{\n      setUser(res);\n      setLoggedInUser(res);\n    })\n  }\n\n  \n \n\n  \n\n  const [loggedInUser,setLoggedInUser] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  let { from } = location.state || { from: { pathname: \"/\" } };\n\n \n  const handleSubmit=(e) =>{\n    if( newUser && user.email && user.password){\n      \n      \n    }\n\n    if( !newUser && user.email && user.password){\n      \n    }\n    e.preventDefault();\n  }\n\n  const handleBlur = (e) =>{\n    let isFeildValid=true;\n    if(e.target.name === 'email'){\n      isFeildValid = /^\\S+@\\S+$/.test(e.target.value);\n     \n    }\n    if(e.target.name === 'password'){\n      const isPasswordValid = e.target.value.length>6;\n      const passwordHasNumber = /\\d{1}/.test(e.target.value);\n      isFeildValid = (isPasswordValid && passwordHasNumber);\n    }\n    if(isFeildValid){\n        const newUserInfo = {...user};\n        newUserInfo[e.target.name] = e.target.value;\n        setUser(newUserInfo);\n    }\n  }\n\n\n\n\n  return (\n   <div style={{marginTop:'150px', textAlign:'center'}}>\n     \n    {\n      user.isSignedIn ? <button onClick={signOut} className=\"btn btn-primary\">Sign out</button>\n      :\n     <button onClick={googleSignIn}\n      className=\"btn btn-primary\">Sign in</button>\n    }\n    <br/>\n    <button onClick={fbSignIn} className=\"btn btn-success\">Log in Using Facebook</button>\n     {\n       user.isSignedIn &&<div> <h1>Welcome <img style={{borderRadius:'50%', width:'100px', height:'100px'}} src={user.photo} alt=\"\"/> {user.name} To this Finance Project.</h1> \n       <p>Your Email:{user.email}</p>\n       \n       \n\n       </div>\n     }\n     <h1>Our Own Authentication </h1>\n     <input type=\"checkbox\" onChange={()=> setNewUser(!newUser)} name=\"newUser\" id=\"newUser\"/>\n     <label htmlFor=\"newUser\">New User Sign Up</label>\n    <form onSubmit ={handleSubmit} action=\"\">\n    {newUser && <input type=\"text\" name=\"name\" onBlur={handleBlur} placeholder=\"Your Name\"/>}<br/>\n    <input type=\"text\" name=\"email\" onBlur={handleBlur} placeholder=\"Your Email Address\" required/><br/>\n     <input type=\"password\" onBlur={handleBlur} placeholder=\"password\" name=\"password\" required/><br/>\n     <input type=\"submit\" value={newUser ? 'Sign Up' : 'Sign In'}/>\n    </form>\n    <p style={{color:'red',background:'black'}}>{user.error}</p>\n     {\n       user.success && <h1 style={{color:'green'}}>User { newUser ? 'Created' : 'logged in'} Successfully done by you. Thank you very much...</h1>\n     }\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}