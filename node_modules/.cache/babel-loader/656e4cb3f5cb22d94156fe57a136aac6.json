{"ast":null,"code":"var _jsxFileName = \"C:\\\\webDevelopment\\\\myProjects\\\\firebase-Ema-John-master\\\\src\\\\components\\\\Review\\\\Review.js\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { getDatabaseCart, removeFromDatabaseCart, clearLocalShoppingCart } from '../../utilities/databaseManager';\nimport fakeData from '../../fakeData';\nimport ReviewItems from '../ReviewItems/ReviewItems';\nimport Cart from '../Cart/Cart';\nimport happyImage from '../../images/giphy.gif';\nimport { useHistory } from 'react-router-dom';\n\nconst Review = () => {\n  const [cart, setCart] = useState([]);\n  const [orderPlaced, setOrderPlaced] = useState(false);\n  const history = useHistory();\n\n  const handleProceedCheckout = () => {\n    history.push('shipment');\n  };\n\n  const removeProduct = productKey => {\n    const newCart = cart.filter(pd => pd.key !== productKey);\n    setCart(newCart);\n    removeFromDatabaseCart(productKey);\n  };\n\n  useEffect(() => {\n    const savedCart = getDatabaseCart();\n    const productKeys = Object.keys(savedCart);\n    const cartProducts = productKeys.map(key => {\n      const product = fakeData.find(pd => pd.key === key);\n      product.quantity = savedCart[key];\n      return product;\n    });\n    setCart(cartProducts);\n  }, []);\n  let thankyou;\n\n  if (orderPlaced) {\n    thankyou = /*#__PURE__*/React.createElement(\"img\", {\n      src: happyImage,\n      alt: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 20\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, cart.map(pd => /*#__PURE__*/React.createElement(ReviewItems, {\n    removeProduct: removeProduct,\n    product: pd,\n    key: pd.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 36\n    }\n  })), thankyou), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleProceedCheckout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, \"Proceed Checkout\"))));\n};\n\nexport default Review;","map":{"version":3,"sources":["C:/webDevelopment/myProjects/firebase-Ema-John-master/src/components/Review/Review.js"],"names":["React","useEffect","useState","getDatabaseCart","removeFromDatabaseCart","clearLocalShoppingCart","fakeData","ReviewItems","Cart","happyImage","useHistory","Review","cart","setCart","orderPlaced","setOrderPlaced","history","handleProceedCheckout","push","removeProduct","productKey","newCart","filter","pd","key","savedCart","productKeys","Object","keys","cartProducts","map","product","find","quantity","thankyou"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,eAAT,EAA0BC,sBAA1B,EAAkDC,sBAAlD,QAAgF,iCAAhF;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAGjB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAMc,OAAO,GAAGN,UAAU,EAA1B;;AACA,QAAMO,qBAAqB,GAAG,MAAM;AACjCD,IAAAA,OAAO,CAACE,IAAR,CAAa,UAAb;AACF,GAFD;;AAIA,QAAMC,aAAa,GAAIC,UAAD,IAAe;AACjC,UAAMC,OAAO,GAAGT,IAAI,CAACU,MAAL,CAAYC,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWJ,UAA7B,CAAhB;AACAP,IAAAA,OAAO,CAACQ,OAAD,CAAP;AACAjB,IAAAA,sBAAsB,CAACgB,UAAD,CAAtB;AACH,GAJD;;AAMAnB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMwB,SAAS,GAAGtB,eAAe,EAAjC;AACA,UAAMuB,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYH,SAAZ,CAApB;AACA,UAAMI,YAAY,GAAGH,WAAW,CAACI,GAAZ,CAAiBN,GAAG,IAAI;AACzC,YAAMO,OAAO,GAAGzB,QAAQ,CAAC0B,IAAT,CAAcT,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWA,GAA/B,CAAhB;AACAO,MAAAA,OAAO,CAACE,QAAR,GAAkBR,SAAS,CAACD,GAAD,CAA3B;AACA,aAAOO,OAAP;AACH,KAJoB,CAArB;AAKAlB,IAAAA,OAAO,CAACgB,YAAD,CAAP;AACH,GATQ,EASP,EATO,CAAT;AAWA,MAAIK,QAAJ;;AACA,MAAGpB,WAAH,EAAe;AACXoB,IAAAA,QAAQ,gBAAG;AAAK,MAAA,GAAG,EAAEzB,UAAV;AAAsB,MAAA,GAAG,EAAC,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAX;AACH;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQG,IAAI,CAACkB,GAAL,CAASP,EAAE,iBAAI,oBAAC,WAAD;AAAa,IAAA,aAAa,EAAEJ,aAA5B;AAA2C,IAAA,OAAO,EAAEI,EAApD;AAAwD,IAAA,GAAG,EAAEA,EAAE,CAACC,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAf,CAFR,EAIKU,QAJL,CADJ,eAOA;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEtB,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,OAAO,EAAEK,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADR,CAPA,CADJ;AAeH,CA9CD;;AAgDA,eAAeN,MAAf","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { getDatabaseCart, removeFromDatabaseCart, clearLocalShoppingCart } from '../../utilities/databaseManager';\nimport fakeData from '../../fakeData';\nimport ReviewItems from '../ReviewItems/ReviewItems';\nimport Cart from '../Cart/Cart';\nimport happyImage from '../../images/giphy.gif'\nimport { useHistory } from 'react-router-dom';\n\nconst Review = () => {\n\n    \n    const [cart, setCart] = useState([]);\n    const [orderPlaced, setOrderPlaced] = useState(false);\n    const history = useHistory();\n    const handleProceedCheckout = () => {\n       history.push('shipment');\n    }\n\n    const removeProduct = (productKey) =>{\n        const newCart = cart.filter(pd => pd.key !== productKey);\n        setCart(newCart);\n        removeFromDatabaseCart(productKey)\n    }\n\n    useEffect(() => {\n        const savedCart = getDatabaseCart()\n        const productKeys = Object.keys(savedCart)\n        const cartProducts = productKeys.map( key => {\n            const product = fakeData.find(pd => pd.key === key);\n            product.quantity =savedCart[key];\n            return product;\n        });\n        setCart(cartProducts)\n    },[])\n    \n    let thankyou;\n    if(orderPlaced){\n        thankyou = <img src={happyImage} alt='img'></img>\n    }\n    return (\n        <div className='shop-container'>\n            <div className='product-container'>\n                {\n                    cart.map(pd => <ReviewItems removeProduct={removeProduct} product={pd} key={pd.key}></ReviewItems>)\n                }\n                {thankyou}\n        </div>\n        <div className='cart-container'>\n                <Cart cart={cart}>\n                    <button onClick={handleProceedCheckout}>Proceed Checkout</button>\n                </Cart>\n        </div>\n        </div>\n    );\n};\n\nexport default Review;"]},"metadata":{},"sourceType":"module"}